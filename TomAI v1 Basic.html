<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TomAI v1 basic</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
            padding: 20px;
        }
        #chat-container {
            background-color: #fff;
            width: 60%;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        #chat-box {
            height: 300px;
            overflow-y: scroll;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f1f1f1;
            border-radius: 5px;
            text-align: left;
        }
        #input-area {
            display: flex;
            justify-content: center;
        }
        #user-input {
            width: 70%;
            padding: 10px;
            margin-right: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        #send-btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #send-btn:hover {
            background-color: #0056b3;
        }
        .message {
            margin: 5px;
            padding: 5px;
        }
        .user {
            text-align: right;
            background-color: #d1e7fd;
            border-radius: 5px;
            margin-left: 30%;
        }
        .bot {
            text-align: left;
            background-color: #f1f1f1;
            border-radius: 5px;
            margin-right: 30%;
        }
        .help {
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>

    <h1>TomAI v1 basic</h1>
    <div id="chat-container">
        <div id="chat-box"></div>
        <div id="input-area">
            <input type="text" id="user-input" placeholder="√çrd be a k√©rd√©sed..." />
            <button id="send-btn">K√ºld√©s</button>
        </div>
        <div class="help" id="help-box">
            <h3>S√∫g√≥:</h3>
            <ul>
                <li><strong>Sz√°mol√≥g√©p:</strong> √çrd be a m≈±veletet, pl. 2+2, 5*5, stb.</li>
                <li><strong>M√©rt√©kegys√©g √°tv√°lt√°s:</strong> √çrd be pl. 100 km-m√©rf√∂ld vagy 62 m√©rf√∂ld-kilom√©ter.</li>
                <li><strong>J√≥ napom van:</strong> Ha mondod, hogy "j√≥ napom van", akkor seg√≠tek jobban meg√©rteni, hogy mi t√∂rt√©nt!</li>
				<li><strong>Mennyi az id≈ë:</strong> Elmondom az id≈ët.</li>
				<li><strong>Ki vagy te:</strong> Elmondom ki vagyok.</li>
				<li><strong>Verzi√≥:</strong> Elmondom az Ai verzi√≥j√°t.</li>
				<li><strong>Mennyi egy pi:</strong> Elmondom, hogy mennyi egy pi.</li>
				<li><strong>Miel≈ëtt be√≠rn√°l olyat, hogy 2+2, √≠rd be mondjuk itt hogy sz√°mol√≥g√©p!</strong></li>
			</ul>
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-btn');
        let currentFunction = null;

        sendButton.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        function sendMessage() {
            const message = userInput.value.trim();
            if (message) {
                appendMessage("Te: " + message, 'user');
                userInput.value = '';

                let response = processInput(message.toLowerCase());
                appendMessage("TomAI: " + response, 'bot');
            }
        }

        function appendMessage(message, sender) {
            const messageElement = document.createElement('p');
            messageElement.textContent = message;
            messageElement.classList.add('message', sender);
            chatBox.appendChild(messageElement);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function processInput(input) {
            if (input === 'j√≥ napom van') {
                currentFunction = 'j√≥ napom';
                return "√ñr√ºl√∂k, hogy j√≥ napod van! Mes√©lj, mi t√∂rt√©nt veled?";
            }

            if (input === 'ki vagy te') {
                return "√ân a TomAI chatbot vagyok, egy szuper mesters√©ges intelligencia, aki seg√≠thet neked! üòé";
            } else if (input === 'sz√°mol√≥g√©p') {
                currentFunction = 'sz√°mol√≥g√©p';
                return "√çrd be a m≈±veletet (pl. 2+2, 3-3, 4*4, 5/5.).";
			} else if (input === 'mennyi egy pi') {
                return "3.14";
			} else if (input === 'verzi√≥') {
                return "TomAI v1 basic edition v1.5.5";
            } else if (input === 'mennyi az id≈ë') {
                const now = new Date();
                return `Mai d√°tum √©s id≈ë: ${now.toLocaleString()}`;
            } else if (input === 'm√©rt√©kegys√©g √°tv√°lt√°s') {
                currentFunction = 'm√©rt√©kegys√©g';
                return "√çrd be az √°tv√°lt√°st (pl. 100 km-m√©rf√∂ld, 5 kmph-mps, 10 inch-cm vagy 9.97 gpercm3-kgperm3.).";
            } else {
                return handleFunction(input);
            }
        }

        function handleFunction(input) {
            switch (currentFunction) {
                case 'sz√°mol√≥g√©p':
                    return calculate(input);
                case 'm√©rt√©kegys√©g':
                    return convertUnits(input);
                case 'j√≥ napom':
                    return "√ñr√ºl√∂k, hogy j√≥ napod van! Mes√©lj, mi t√∂rt√©nt veled?";
                default:
                    return "Bocs√°nat, nem √©rtem a k√©rd√©st. K√©rlek pr√≥b√°ld √∫jra!";
            }
        }

        function calculate(input) {
    // Friss√≠tett regex, hogy kezelje a ** oper√°tort is
    const regex = /(\d+)\s*([\+\-\*\/\**\*])\s*(\d+)/;
    const match = input.match(regex);

    if (match) {
        const num1 = parseFloat(match[1]);
        const operator = match[2];
        const num2 = parseFloat(match[3]);

        let result;

        if (operator === '+') {
            result = num1 + num2;
        } else if (operator === '-') {
            result = num1 - num2;
        } else if (operator === '*') {
            result = num1 * num2;
        } else if (operator === '/') {
            result = num2 !== 0 ? num1 / num2 : "Null√°val nem osztunk!";
        } else {
            result = "Hib√°s oper√°tor!";
        }

        return result;
    }

    return "Hib√°s m≈±velet. K√©rlek add meg k√©t sz√°mot!";
}

        function convertUnits(input) {
            const kmToMile = 0.621371;
            const mileToKm = 1.60934;

            if (input.match(/(\d+)\s*km\s*-\s*m√©rf√∂ld/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} km = ${(number * kmToMile).toFixed(2)} m√©rf√∂ld`;
            } else if (input.match(/(\d+)\s*m√©rf√∂ld\s*-\s*km/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} m√©rf√∂ld = ${(number * mileToKm).toFixed(2)} kilom√©ter`;
			} else if (input.match(/(\d+)\s*kmph\s*-\s*mps/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} mps = ${(number * 3.6).toFixed(2)} kmph`;
			} else if (input.match(/(\d+)\s*mps\s*-\s*kmph/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} kmph = ${(number / 3.6).toFixed(2)} mps`;
			} else if (input.match(/(\d+)\s*inch\s*-\s*cm/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} inch = ${(number * 2.54).toFixed(2)} cm`;
			} else if (input.match(/(\d+)\s*cm\s*-\s*inch/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} cm = ${(number / 2.54).toFixed(2)} inch`;
			} else if (input.match(/(\d+)\s*gpercm3\s*-\s*kgperm3/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} g/cm3 = ${(number * 1000).toFixed(2)} kg/m3`;
			} else if (input.match(/(\d+)\s*kgperm3\s*-\s*gpercm3/)) {
                const number = parseFloat(input.split(' ')[0]);
                return `${number} kg/m3 = ${(number / 1000).toFixed(2)} g/cm3`;
            } else {
                return "Nem √©rtem az √°tv√°lt√°st. K√©rlek pr√≥b√°ld √∫jra!";
            }
        }
    </script>
</body>
</html>
